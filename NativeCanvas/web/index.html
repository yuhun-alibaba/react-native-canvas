<!DOCTYPE html>
<html>
<head>
  <title></title>
</head>
<body>
<canvas height="500" width="400" id="canvas"></canvas>
</body>
<script type="text/javascript">
  var canvas = document.getElementById("canvas");
  var ctx = canvas.getContext("2d");

  var fontSize = 25
  ctx.font = `${fontSize}px serif`;

  var textMetrix = ctx.measureText("Hello world");
  var textMockMetrix = measureText("Hello world", fontSize);

  console.log("textMetrix", textMetrix);
  console.log("textMetrix mock", textMockMetrix);
  console.log("right pecentangle", textMetrix.width / textMockMetrix.width);

  // ctx.textAlign = "left";
  // ctx.strokeText("Hello world", 0, 100);
  // ctx.textAlign = "right";
  // ctx.strokeText("Hello world", textMetrix.width, 200);
  // ctx.textAlign = "center";
  // ctx.strokeText("Hello world", textMetrix.width / 2, 300);

  // ctx.save();
  // ctx.translate(0, 400);
  // ctx.beginPath();
  // ctx.moveTo(0,0);
  // ctx.lineWidth = 2;
  // ctx.lineTo(100, 100);
  // ctx.closePath();
  // ctx.fill();
  // ctx.stroke();
  // ctx.restore();


  ctx.fillStyle = "red";
  ctx.strokeStyle = "black";
  ctx.arc(100, 100, 50.0, 0, Math.PI * 2, 1);
  ctx.stroke();
  ctx.fill();

  function strLen(str) {
    let len = 0;
    for (let i = 0; i < str.length; i++) {
      if (str.charCodeAt(i) > 0 && str.charCodeAt(i) < 128) {
        len++;
      } else {
        len += 2;
      }
    }
    return len;
  }

  function measureText(text, fontSize = 10) {
    return {
      width: (strLen(text) * fontSize) / 2
    };
  }

</script>
</html>